{
  "schema": {
    "name": "string",
    "spells": [{
      "power": "number",
      "name": "string"
    }]
  },
  "pipeline": [
    {
      "@": "map",
      "=": {
        "avg_power": {
          "@": "inject",
          "[]": {
            "@": "field",
            "=": "spells"
          },
          "=": {
            "@": "avg",
            "=": {
              "@": "field",
              "=": "power"
            }
          }
        }
      }
    }
  ]
}
