{
    "schema_in": {
        "class": "string",
        "is_alive": "boolean",
        "age": "number",
        "spells": [{
            "power": "number",
            "name": "string"
        }]
    },

    "pipeline_in": [
        {
            "@": "map",
            "?": {
                "@": "and",
                "=": [
                    {
                        "@": "gt",
                        "=": [
                            {
                                "@": "field",
                                "=": "age"
                            },
                            {
                                "@": "constant",
                                "=": 14
                            }
                        ]
                    },
                    {
                        "@": "neq",
                        "=": [
                            {
                                "@": "field",
                                "=": "is_alive"
                            },
                            {
                                "@": "constant",
                                "=": true
                            }
                        ]
                    }
                ]
            },
            "=": {
                "projected_age": {
                    "@": "field",
                    "=": "age"
                }
            }
        }
    ],



    "schema_out": {
        "projected_age": "number"
    },
    "pipeline_out": [
        {
            "$match": {
                "$and": [
                    { "$gt": ["$age", 14] },
                    { "$neq": ["$is_alive", true] }
                ]
            }
        },
        {
            "$project": {
                "projected_age": "$age"
            }
        }
    ]
}
